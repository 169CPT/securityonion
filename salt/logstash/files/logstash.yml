{%- set freq = salt['pillar.get']('master:freq', '0') %}
{%- set domainstats = salt['pillar.get']('master:domainstats', '0') %}
{%- if freq == '0' and domainstats == '0' }
path.config: {/usr/share/logstash/pipeline,/usr/share/logstash/custom}
{%- if freq == '1' and domainstats == '0' }
path.config: {/usr/share/logstash/pipeline,/usr/share/logstash/custom,/usr/share/logstash/freq}
{%- if freq == '0' and domainstats == '1' }
path.config: {/usr/share/logstash/pipeline,/usr/share/logstash/custom,/usr/share/logstash/domainstats}
{%- if freq == '1' and domainstats == '1' }
path.config: {/usr/share/logstash/pipeline,/usr/share/logstash/custom,/usr/share/logstash/freq,/usr/share/logstash/domainstats}
{%- endif %}
http.host: 0.0.0.0
queue.type: persisted
queue.max_bytes: 1gb
pipeline.workers: 1
path.logs: /var/log/logstash
