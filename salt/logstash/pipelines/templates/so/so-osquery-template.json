{%- set SHARDS = salt['pillar.get']('elasticsearch:index_settings:so-osquery:shards', 1) %}
{%- set REPLICAS = salt['pillar.get']('elasticsearch:replicas', 0) %}
{%- set REFRESH = salt['pillar.get']('elasticsearch:index_settings:so-osquery:refresh', '30s') %}
{
  "index_patterns": ["so-osquery-*"],
  "version":50001,
  "order":11,
  "settings":{
    "number_of_replicas":{{ REPLICAS }},
    "number_of_shards":{{ SHARDS }},
    "index.refresh_interval":"{{ REFRESH }}"
  }
}
